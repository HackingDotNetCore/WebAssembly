var waPC;(()=>{var e={227:(e,t,s)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;t.splice(1,0,s,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))})),t.splice(n,0,s)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=s(447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,t,s)=>{e.exports=function(e){function t(e){let s,n,o,a=null;function i(...e){if(!i.enabled)return;const r=i,n=Number(new Date),o=n-(s||n);r.diff=o,r.prev=s,r.curr=n,s=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((s,n)=>{if("%%"===s)return"%";a++;const o=t.formatters[n];if("function"==typeof o){const t=e[a];s=o.call(r,t),e.splice(a,1),a--}return s})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=r,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(n!==t.namespaces&&(n=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(i),i}function r(e,s){const r=t(this.namespace+(void 0===s?":":s)+e);return r.log=this.log,r}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let s;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(s=0;s<n;s++)r[s]&&("-"===(e=r[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let s,r;for(s=0,r=t.skips.length;s<r;s++)if(t.skips[s].test(e))return!1;for(s=0,r=t.names.length;s<r;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s(824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((s=>{t[s]=e[s]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t}},824:e=>{var t=1e3,s=60*t,r=60*s,n=24*r;function o(e,t,s,r){var n=t>=1.5*s;return Math.round(e/s)+" "+r+(n?"s":"")}e.exports=function(e,a){a=a||{};var i,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*n;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*s;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(i=e,(c=Math.abs(i))>=n?o(i,c,n,"day"):c>=r?o(i,c,r,"hour"):c>=s?o(i,c,s,"minute"):c>=t?o(i,c,t,"second"):i+" ms"):function(e){var o=Math.abs(e);return o>=n?Math.round(e/n)+"d":o>=r?Math.round(e/r)+"h":o>=s?Math.round(e/s)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},539:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateWASIImports=t.generateWapcImports=void 0;const r=s(346);t.generateWapcImports=function(e){return{__console_log(t,s){(0,r.debug)((()=>["__console_log %o bytes @ %o",s,t]));const n=new Uint8Array(e.getCallerMemory().buffer).slice(t,t+s);console.log(e.textDecoder.decode(n))},__host_call(t,s,n,o,a,i,c,u){(0,r.debug)((()=>["__host_call"]));const l=e.getCallerMemory(),d=new Uint8Array(l.buffer),g=e.textDecoder.decode(d.slice(t,t+s)),p=e.textDecoder.decode(d.slice(n,n+o)),f=e.textDecoder.decode(d.slice(a,a+i)),h=d.slice(c,c+u);(0,r.debug)((()=>["host_call(%o,%o,%o,[%o bytes])",g,p,f,h.length])),e.state.hostError=void 0,e.state.hostResponse=void 0;try{const t=e.state.hostCallback(g,p,f,h);return e.state.hostResponse=t,1}catch(t){return e.state.hostError=""+t,0}},__host_response(t){(0,r.debug)((()=>["__host_response ptr: %o",t])),e.state.hostResponse&&new Uint8Array(e.getCallerMemory().buffer).set(e.state.hostResponse,t)},__host_response_len(){var t;const s=(null===(t=e.state.hostResponse)||void 0===t?void 0:t.length)||0;return(0,r.debug)((()=>["__host_response_len %o",s])),s},__host_error_len(){var t;const s=(null===(t=e.state.hostError)||void 0===t?void 0:t.length)||0;return(0,r.debug)((()=>["__host_error_len ptr: %o",s])),s},__host_error(t){(0,r.debug)((()=>["__host_error %o",t])),e.state.hostError&&((0,r.debug)((()=>["__host_error writing to mem: %o",e.state.hostError])),new Uint8Array(e.getCallerMemory().buffer).set(e.textEncoder.encode(e.state.hostError),t))},__guest_response(t,s){(0,r.debug)((()=>["__guest_response %o bytes @ %o",s,t])),e.state.guestError=void 0;const n=new Uint8Array(e.getCallerMemory().buffer).slice(t,t+s);e.state.guestResponse=n},__guest_error(t,s){(0,r.debug)((()=>["__guest_error %o bytes @ %o",s,t]));const n=new Uint8Array(e.getCallerMemory().buffer).slice(t,t+s),o=e.textDecoder.decode(n);e.state.guestError=o},__guest_request(t,s){(0,r.debug)((()=>["__guest_request op: %o, ptr: %o",t,s]));const n=e.state.guestRequest;if(!n)throw new Error("__guest_request called without an invocation present. This is probably a bug in the library using @wapc/host.");{const o=e.getCallerMemory();(0,r.debug)((()=>["writing invocation (%o,[%o bytes])",n.operation,n.msg.length]));const a=new Uint8Array(o.buffer);a.set(n.operationEncoded,t),a.set(n.msg,s)}}}},t.generateWASIImports=function(e){return{fd_write(t,s,r,n){if(1!=t)return 0;const o=e.getCallerMemory(),a=new DataView(o.buffer),i=new Uint8Array(o.buffer);let c=0;for(;r>0;){r--;const t=a.getUint32(s,!0);s+=4;const n=a.getUint32(s,!0);s+=4;const o=i.slice(t,t+n);e.state.writer(e.textDecoder.decode(o)),c+=n}return a.setUint32(n,c,!0),c},args_sizes_get(t,s){const r=e.getCallerMemory(),n=new DataView(r.buffer);return n.setUint32(t,0),n.setUint32(s,0),0},args_get:(e,t)=>0}}},346:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0;const n=(0,r(s(227)).default)("wapc");t.debug=function(e){if(n.enabled){const t=e();n(...t)}}},758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingFailure=t.InvalidWasm=t.HostCallNotImplementedError=void 0;class s extends Error{matcher(){return new RegExp(this.toString().replace(/^Error: /,""))}}t.HostCallNotImplementedError=class extends s{constructor(e,t,s){super(`Host call not implemented. Guest called host with binding = '${e}', namespace = '${t}', & operation = '${s}'`)}},t.InvalidWasm=class extends s{constructor(e){super(`Invalid wasm binary: ${e.message}`)}},t.StreamingFailure=class extends s{constructor(e){super(`Could not instantiate from Response object: ${e.message}`)}}},607:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.errors=t.WapcHost=t.instantiateStreaming=t.instantiate=void 0;var a=s(410);Object.defineProperty(t,"instantiate",{enumerable:!0,get:function(){return a.instantiate}}),Object.defineProperty(t,"instantiateStreaming",{enumerable:!0,get:function(){return a.instantiateStreaming}}),Object.defineProperty(t,"WapcHost",{enumerable:!0,get:function(){return a.WapcHost}}),t.errors=o(s(758))},410:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instantiateStreaming=t.instantiate=t.WapcHost=void 0;const r=s(346),n=s(607),o=s(539),a=s(758);class i{constructor(e,t){this.hostCallback=e||((e,t,s)=>{throw new a.HostCallNotImplementedError(e,t,s)}),this.writer=t||(()=>{})}}class c{constructor(e,t){this.state=new i(e,t),this.textEncoder=new TextEncoder,this.textDecoder=new TextDecoder("utf-8"),this.guestCall=()=>{}}async instantiate(e){const t=this.getImports(),s=await WebAssembly.instantiate(e,t).catch((e=>{throw new n.errors.InvalidWasm(e)}));return this.initialize(s.instance),this}async instantiateStreaming(e){const t=this.getImports();if(WebAssembly.instantiateStreaming){const s=await WebAssembly.instantiateStreaming(e,t).catch((e=>{throw new n.errors.StreamingFailure(e)}));return this.initialize(s.instance),this}{(0,r.debug)((()=>["WebAssembly.instantiateStreaming is not supported on this browser, wasm execution will be impacted."]));const t=new Uint8Array(await(await e).arrayBuffer());return this.instantiate(t)}}getImports(){const e=(0,o.generateWASIImports)(this);return{wapc:(0,o.generateWapcImports)(this),wasi:e,wasi_unstable:e,wasi_snapshot_preview1:e}}initialize(e){this.instance=e;const t=this.instance.exports._start;null!=t&&t([]);const s=this.instance.exports.wapc_init;if(null!=s&&s([]),this.guestCall=this.instance.exports.__guest_call,null==this.guestCall)throw new Error("WebAssembly module does not export __guest_call")}async invoke(e,t){(0,r.debug)((()=>["invoke(%o, [%o bytes]",e,t.length]));const s=this.textEncoder.encode(e);if(this.state.guestRequest={operation:e,operationEncoded:s,msg:t},0===this.guestCall(s.length,t.length))throw new Error(this.state.guestError);if(this.state.guestResponse)return this.state.guestResponse;throw new Error("Guest call succeeded, but guest response not set. This is a bug in @wapc/host")}getCallerMemory(){return this.instance.exports.memory}}t.WapcHost=c,t.instantiate=async function(e,t,s){return new c(t,s).instantiate(e)},t.instantiateStreaming=async function(e,t,s){return new c(t,s).instantiateStreaming(await e)}}},t={},s=function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}(607);waPC=s})();